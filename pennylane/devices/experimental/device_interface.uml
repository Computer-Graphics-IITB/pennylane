@startuml

class FnType <<Enum>>{
    PREPROCESS
    PREPROCESS_TRACED
    EXECUTE
    POSTPROCESS_TRACED
    POSTPROCESS
    GRADIENT
    VJP
    UNKNOWN
}
class DeviceType <<Enum>>{
    VIRTUAL
    PHYSICAL
    UNKNOWN
}
class DeviceConfig <<dataclass>>{
    +shots: bool
    +grad: bool
    +device_type: DeviceType
}
class ExecutionConfig {
    +device_type: DeviceType
    +shots: int
    -grad: Union[None, Callable]
    -preproc: Union[None, Callable]
    -preproc_traced: Union[None, Callable]
    -postproc: Union[None, Callable]
    -postproc_traced: Union[None, Callable]
    +dispatch(query: FnType): Union[None, Callable]
}
abstract class NumericResult{
    Catch-all for numeric data
}
abstract class AbstractDevice{
    +//execute(qscript: Union[QuantumScript, List[QuantumScript]]): NumericResult//
    +//gradient(qscript: QuantumScript, order: int): NumericResult//
    +//vjp(qscript: QuantumScript): NumericResult//
}

class ConcreteDevice{
    -device_config: DeviceConfig
    -execution_config: ExecutionConfig
    +execute(qscript: Union[QuantumScript, List[QuantumScript]]): NumericResult
    +gradient(qscript: QuantumScript, order: int): NumericResult
    +vjp(qscript: QuantumScript): NumericResult
}

DeviceConfig *-- DeviceType

ExecutionConfig ..> FnType

AbstractDevice ..> NumericResult
AbstractDevice <|-- ConcreteDevice

ConcreteDevice o-- DeviceConfig : optional
ConcreteDevice o-- ExecutionConfig : optional

@enduml
